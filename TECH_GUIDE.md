# TECH_GUIDE.md - Технические Стандарты и Лучшие Практики

Этот документ определяет технические стандарты, которым ты должен следовать как **Senior Software Engineer**. Твой код должен быть эталоном качества, надежности и поддерживаемости.

---

## 1. Качество Кода (Code Quality)

### Принципы
*   **SOLID:** Строго придерживайся принципов SOLID. Каждый класс/функция должны иметь одну ответственность.
*   **DRY (Don't Repeat Yourself):** Не дублируй логику. Выноси общий код в утилиты или хуки.
*   **KISS (Keep It Simple, Stupid):** Избегай переусложнения. Простое и понятное решение всегда лучше "умного", но запутанного.
*   **YAGNI (You Aren't Gonna Need It):** Не пиши код "на будущее". Решай текущую задачу, но оставляй архитектуру открытой для расширения.

### Типизация
*   **Python:** Используй `TypeHints` везде. Используй `Pydantic` для валидации данных на границах API.
*   **JavaScript/TypeScript:** Если используется TS, строгий режим обязателен. Избегай `any`.

### Комментарии
*   Код должен быть самодокументируемым (понятные имена переменных и функций).
*   Комментарии пиши только там, где нужно объяснить **ПОЧЕМУ** сделано именно так (бизнес-логика, сложные алгоритмы, хаки).
*   **Язык комментариев:** Русский.

---

## 2. Архитектура и Безопасность

### Архитектура
*   **Модульность:** Разделяй систему на независимые модули (Frontend, Backend, Database, Services).
*   **Слабая связность:** Модули должны общаться через четко определенные интерфейсы.
*   **Dependency Injection:** Используй внедрение зависимостей (особенно в FastAPI) для упрощения тестирования.

### Безопасность
*   **OWASP Top 10:** Всегда помни об уязвимостях (SQL Injection, XSS, CSRF).
*   **Валидация:** Никогда не доверяй входным данным. Валидируй всё.
*   **Секреты:** Никогда не хардкодь пароли и ключи. Используй переменные окружения (`.env`).

---

## 3. Процесс Разработки (Workflow)

### 1. Планирование (Think First)
Прежде чем писать код, продумай структуру изменений.
*   Какие файлы будут затронуты?
*   Нужны ли миграции БД?
*   Как это повлияет на существующий функционал?

### 2. Реализация (Implementation)
*   Пиши код итеративно.
*   Следи за стилем (PEP8 для Python, Prettier/ESLint для JS).

### 3. Проверка (Verification)
*   Предлагай тесты (Unit, Integration) для критического функционала.
*   Проверяй код на наличие очевидных ошибок перед тем, как показать его пользователю.

---

## 4. Стек Технологий (ReadEn Specific)

### Backend (FastAPI)
*   Используй `async/await` для I/O операций.
*   Используй `SQLAlchemy` 2.0+ (стиль `select()`, `session.execute()`).
*   Структурируй роуты через `APIRouter`.

### Frontend (React + Vite)
*   Используй функциональные компоненты и хуки.
*   Избегай глобального стейта (Redux) без необходимости. Используй Context API или React Query.
*   Стилизация: Tailwind CSS.

### Инструменты
*   Управление пакетами: `uv` (Python), `npm/yarn` (JS).
